import numpy as np
import tensorflow as tf
x = np.random.uniform(size=(5, 5))
print(x)
dataset = tf.data.Dataset.from_tensor_slices(x)
iterator = dataset.make_one_shot_iterator()
one_element = iterator.get_next()
with tf.Session() as sess:
    for i in range(5):
        print(sess.run(one_element))



[[0.67668758 0.59929475 0.22627313 0.6529265  0.22763839]
 [0.55269836 0.7913124  0.13483996 0.31732267 0.94125051]
 [0.15545461 0.92199281 0.878296   0.53878034 0.83590208]
 [0.33821637 0.16318078 0.83169962 0.17109723 0.15762281]
 [0.34169942 0.40245766 0.10843972 0.67211135 0.39873986]]



输出的是每一层的分片的结果值。
[0.67668758 0.59929475 0.22627313 0.6529265  0.22763839]
[0.55269836 0.7913124  0.13483996 0.31732267 0.94125051]
[0.15545461 0.92199281 0.878296   0.53878034 0.83590208]
[0.33821637 0.16318078 0.83169962 0.17109723 0.15762281]
[0.34169942 0.40245766 0.10843972 0.67211135 0.39873986]