

import numpy as np

logits = np.array([[12, 3, 2], [3, 10, 1], [1, 2, 5], [4, 6.5, 1.2], [3, 6, 1]])
# 第一步.
 
# [[1.62754791e+05 2.00855369e+01 7.38905610e+00]       # 取每一行的三个元素的值进行相加和。
#  [2.00855369e+01 2.20264658e+04 2.71828183e+00]
#  [2.71828183e+00 7.38905610e+00 1.48413159e+02]
#  [5.45981500e+01 6.65141633e+02 3.32011692e+00]
#  [2.00855369e+01 4.03428793e+02 2.71828183e+00]]

temp1 = np.exp(logits)
temp2 = np.sum(temp1, axis=-1)
  
# [1.62782266e+05 2.20492696e+04 1.58520497e+02 7.23059900e+02 4.26232612e+02]   第二步的结果。

temp3 = np.ones(np.shape(logits))

# [[1. 1. 1.]
#  [1. 1. 1.]
#  [1. 1. 1.]
#  [1. 1. 1.]  
#  [1. 1. 1.]]


for i in range(np.shape(logits)[0]):
    temp3[i] = np.exp(logits[i]) / temp2[i]


print(temp3)


# [[9.99831219e-01 1.23388975e-04 4.53922671e-05]
#  [9.10938878e-04 9.98965779e-01 1.23282171e-04]
#  [1.71478255e-02 4.66126226e-02 9.36239552e-01]
#  [7.55098575e-02 9.19898383e-01 4.59175917e-03]
#  [4.71234165e-02 9.46499123e-01 6.37746092e-03]]